# -*- coding: utf-8 -*-
"""
מערכת תרגום מלאה לבוט
Supporting: Russian (ru) and Hebrew (he)
"""

TEXTS = {
    # Language Selection
    "choose_language": {
        "ru": "Выберите язык:",
        "he": "בחר שפה:"
    },
    "language_changed": {
        "ru": "✅ Язык изменен на русский",
        "he": "✅ השפה שונתה לעברית"
    },
    
    # Main Menu Buttons
    "btn_new_order": {
        "ru": "➕ Новый заказ",
        "he": "➕ הזמנה חדשה"
    },
    "btn_start_shift": {
        "ru": "📦 Начало рабочего дня",
        "he": "📦 התחלת יום עבודה"
    },
    "btn_end_shift": {
        "ru": "↩️ Завершить смену",
        "he": "↩️ סיום משמרת"
    },
    "btn_current_stock": {
        "ru": "📊 Текущий остаток на складе",
        "he": "📊 מלאי נוכחי במחסן"
    },
    "btn_msg_client": {
        "ru": "📤 Отправить сообщение клиенту",
        "he": "📤 שלח הודעה ללקוח"
    },
    "btn_admin": {
        "ru": "👤 Администрирование",
        "he": "👤 ניהול"
    },
    "btn_crude_manage": {
        "ru": "🪨 Управление сырьём",
        "he": "🪨 ניהול חומר גלם"
    },
    "btn_couriers_group": {
        "ru": "Группа курьеров",
        "he": "קבוצת שליחים"
    },
    
    # Common Actions
    "btn_cancel": {
        "ru": "❌Отмена",
        "he": "❌ביטול"
    },
    "btn_back": {
        "ru": "⬅️Назад",
        "he": "⬅️חזרה"
    },
    "btn_confirm": {
        "ru": "✅Подтвердить",
        "he": "✅אישור"
    },
    "btn_create": {
        "ru": "⏬Создать",
        "he": "⏬יצירה"
    },
    "btn_add": {
        "ru": "➕ Добавить товар",
        "he": "➕ הוסף מוצר"
    },
    "btn_edit": {
        "ru": "🖊 Изменить",
        "he": "🖊 עריכה"
    },
    "btn_delete": {
        "ru": "🗑 Удалить",
        "he": "🗑 מחיקה"
    },
    
    # Order Status
    "status_active": {
        "ru": "🟡 Активен",
        "he": "🟡 פעיל"
    },
    "status_completed": {
        "ru": "✅ Завершён",
        "he": "✅ הושלם"
    },
    "status_cancelled": {
        "ru": "❌ Отменён",
        "he": "❌ בוטל"
    },
    "status_pending": {
        "ru": "⌛️ Ожидает курьера",
        "he": "⌛️ ממתין לשליח"
    },
    "status_delay": {
        "ru": "⏲️ Задержка",
        "he": "⏲️ עיכוב"
    },
    
    # Shift Status
    "shift_opened": {
        "ru": "Открыта",
        "he": "פתוחה"
    },
    "shift_closed": {
        "ru": "Закрыта",
        "he": "סגורה"
    },
    
    # Main Menu
    "main_menu": {
        "ru": "🏠Главное Меню:",
        "he": "🏠תפריט ראשי:"
    },
    
    # New Order Flow
    "enter_client_name": {
        "ru": ">>>Введите имя клиента:",
        "he": ">>>הזן שם לקוח:"
    },
    "enter_client_username": {
        "ru": ">>>Введите Юзернейм клиента в формате @username:",
        "he": ">>>הזן שם משתמש של הלקוח בפורמט @username:"
    },
    "enter_client_phone": {
        "ru": ">>>Введите номер телефона клиента:",
        "he": ">>>הזן מספר טלפון של הלקוח:"
    },
    "enter_address": {
        "ru": ">>>Пошлите боту локацию или напишите адрес вручную:",
        "he": ">>>שלח מיקום או הקלד כתובת ידנית:"
    },
    "choose_product": {
        "ru": ">>>Выберите товар:",
        "he": ">>>בחר מוצר:"
    },
    "choose_or_enter_quantity": {
        "ru": ">>>Напишите или выберите количество:",
        "he": ">>>כתוב או בחר כמות:"
    },
    "choose_or_enter_price": {
        "ru": ">>>Выберите цену или введите любое число:",
        "he": ">>>בחר מחיר או הקלד מספר כלשהו:"
    },
    "add_more_or_confirm": {
        "ru": "<b>Добавить больше товаров или подтвердить заказ ?</b>",
        "he": "<b>להוסיף עוד מוצרים או לאשר את ההזמנה?</b>"
    },
    "confirm_order_check": {
        "ru": "Проверьте введенные данные и подтвердите заказ:\n",
        "he": "בדוק את הפרטים ואשר את ההזמנה:\n"
    },
    "btn_confirm_order": {
        "ru": "✅ Подтвердить заказ",
        "he": "✅ אישור הזמנה"
    },
    "not_enough_stock": {
        "ru": "❌ К сожалению указанного количества нет в наличии.",
        "he": "❌ לצערנו הכמות המבוקשת אינה זמינה במלאי."
    },
    "enter_new_product_name": {
        "ru": ">>>Введите название нового товара (не более 22 символов):",
        "he": ">>>הזן שם מוצר חדש (עד 22 תווים):"
    },
    "enter_new_product_stock": {
        "ru": ">>>Введите доступное количество на складе для нового товара (число):",
        "he": ">>>הזן כמות זמינה במלאי עבור המוצר החדש (מספר):"
    },
    
    # Order Display
    "order_id": {
        "ru": "<b>Заказ</b> <i>#{}</i>",
        "he": "<b>הזמנה</b> <i>#{}</i>"
    },
    "client_name": {
        "ru": "<b>Имя клиента:</b> <i>{}</i>",
        "he": "<b>שם לקוח:</b> <i>{}</i>"
    },
    "client_username": {
        "ru": "<b>Юзернейм:</b> <i>{}</i>",
        "he": "<b>שם משתמש:</b> <i>{}</i>"
    },
    "client_phone": {
        "ru": "<b>Телефон:</b> <i>{}</i>",
        "he": "<b>טלפון:</b> <i>{}</i>"
    },
    "address": {
        "ru": "<b>Адрес:</b> <i>{}</i>",
        "he": "<b>כתובת:</b> <i>{}</i>"
    },
    "products": {
        "ru": "<b>Товары:</b> <i>{}</i>",
        "he": "<b>מוצרים:</b> <i>{}</i>"
    },
    "total_price": {
        "ru": "<b>Цена общая:</b> <i>{}₪</i>",
        "he": "<b>מחיר כולל:</b> <i>{}₪</i>"
    },
    "order_status": {
        "ru": "<b>Статус заказа:</b>{}",
        "he": "<b>סטטוס הזמנה:</b>{}"
    },
    "courier_name": {
        "ru": "<b>Имя курьера:</b> <i>{}</i>",
        "he": "<b>שם שליח:</b> <i>{}</i>"
    },
    "courier_username": {
        "ru": "<b>Юзернейм курьера:</b> <i>{}</i>",
        "he": "<b>שם משתמש שליח:</b> <i>{}</i>"
    },
    "courier_id": {
        "ru": "<b>ID курьера:</b> <i>{}</i>",
        "he": "<b>מזהה שליח:</b> <i>{}</i>"
    },
    "selected_time": {
        "ru": "<b>Выбранное время:</b> <i>{} минут</i>",
        "he": "<b>זמן נבחר:</b> <i>{} דקות</i>"
    },
    "delay_reason": {
        "ru": "<b>Причина задержки:</b> {}",
        "he": "<b>סיבת עיכוב:</b> {}"
    },
    "delay_time": {
        "ru": "<b>Время задержки:</b> <i>{} минут</i>",
        "he": "<b>זמן עיכוב:</b> <i>{} דקות</i>"
    },
    
    # Courier Actions
    "btn_choose_minutes": {
        "ru": "[Выбрать минуты] (בחירת דקות)",
        "he": "[בחירת דקות] (Выбрать минуты)"
    },
    "btn_write_minutes": {
        "ru": "[Ввод минут] (הקשת דקות)",
        "he": "[הקשת דקות] (Ввод минут)"
    },
    "btn_delay": {
        "ru": "[Задержка] (מתעכב)",
        "he": "[עיכוב] (Задержка)"
    },
    "btn_delivered": {
        "ru": "[Доставлено] (סופק)",
        "he": "[נמסר] (Доставлено)"
    },
    "enter_delay_reason": {
        "ru": ">>>Напишите причину задержки или запишите голосовое:",
        "he": ">>>כתוב סיבת עיכוב או הקלט הודעה קולית:"
    },
    "enter_minutes": {
        "ru": "Напишите количество минут:",
        "he": "כתוב מספר דקות:"
    },
    "btn_my_time": {
        "ru": "🕒 Свое время",
        "he": "🕒 זמן שלי"
    },
    "need_courier_role": {
        "ru": "❌ Нужно быть курьером чтобы выполнять это.",
        "he": "❌ צריך להיות שליח כדי לבצע פעולה זו."
    },
    "need_stockman_role": {
        "ru": "❌ Нужно быть кладовщиком чтобы выполнять это.",
        "he": "❌ צריך להיות כלאי כדי לבצע פעולה זו."
    },
    
    # Shift Management
    "shift_not_closed": {
        "ru": ">>>Не закрыта предыдущая смена от <b>{}</b>:",
        "he": ">>>משמרת קודמת לא נסגרה מתאריך <b>{}</b>:"
    },
    "available_stock": {
        "ru": "Доступный остаток:\n\n{}",
        "he": "מלאי זמין:\n\n{}"
    },
    "confirm_stock": {
        "ru": "✅ Подтвердить этот остаток",
        "he": "✅ אשר מלאי זה"
    },
    "manual_edit": {
        "ru": "📝 Изменить вручную",
        "he": "📝 עריכה ידנית"
    },
    "shift_started": {
        "ru": "Смена начата.",
        "he": "המשמרת התחילה."
    },
    "close_previous_shift": {
        "ru": "❌ Для продолжения закройте предыдущую не закрытую смену.",
        "he": "❌ כדי להמשיך, סגור את המשמרת הקודמת שלא נסגרה."
    },
    "need_open_shift_for_order": {
        "ru": "❌ Для создания заказа сперва нужно открыть смену.",
        "he": "❌ כדי ליצור הזמנה, תחילה יש לפתוח משמרת."
    },
    
    # End Shift
    "enter_operator_payment": {
        "ru": "Начинаем процесс закрытия смены.\n\nНапишите размер оплаты оператору в ₪:",
        "he": "מתחילים תהליך סגירת משמרת.\n\nכתוב סכום תשלום למפעיל ב-₪:"
    },
    "enter_courier_payment": {
        "ru": "Напишите размер оплаты курьеру в ₪:",
        "he": "כתוב סכום תשלום לשליח ב-₪:"
    },
    "enter_petrol_payment": {
        "ru": "Напишите размер оплаты за топливо в ₪:",
        "he": "כתוב סכום תשלום דלק ב-₪:"
    },
    "check_shift_data": {
        "ru": "<b>Проверьте данные и подтвердите закрытие смены</b>",
        "he": "<b>בדוק את הנתונים ואשר סגירת משמרת</b>"
    },
    "shift_start_time": {
        "ru": "<b>Время начала смены:</b> <i>{}</i>",
        "he": "<b>זמן תחילת משמרת:</b> <i>{}</i>"
    },
    "operator_payment": {
        "ru": "<b>Оплата оператору:</b> <i>{}</i>",
        "he": "<b>תשלום למפעיל:</b> <i>{}</i>"
    },
    "courier_payment": {
        "ru": "<b>Оплата курьеру:</b> <i>{}</i>",
        "he": "<b>תשלום לשליח:</b> <i>{}</i>"
    },
    "petrol_payment": {
        "ru": "<b>Оплата за топливо:</b> <i>{}</i>",
        "he": "<b>תשלום דלק:</b> <i>{}</i>"
    },
    "shift_products_summary": {
        "ru": "<b>Сводка по выданным товарам за смену:</b>\n{}",
        "he": "<b>סיכום מוצרים שנמסרו במשמרת:</b>\n{}"
    },
    "shift_closed_success": {
        "ru": "✅ Смена успешно закрыта",
        "he": "✅ המשמרת נסגרה בהצלחה"
    },
    "no_open_shifts": {
        "ru": "❌ Открытых смен нет",
        "he": "❌ אין משמרות פתוחות"
    },
    
    # Product Management
    "product_info": {
        "ru": "<b>Товар</b> - {}\n<b>Текущий остаток</b> - {}\n\n>>>Выберите действие:",
        "he": "<b>מוצר</b> - {}\n<b>מלאי נוכחי</b> - {}\n\n>>>בחר פעולה:"
    },
    "product_crude_info": {
        "ru": "<b>Товар</b> - {}\n<b>Текущий остаток (сырьё)</b> - {}\n<b>Текущий остаток (фасованный)</b> - {}\n\n>>>Выберите действие:",
        "he": "<b>מוצר</b> - {}\n<b>מלאי נוכחי (גלם)</b> - {}\n<b>מלאי נוכחי (ארוז)</b> - {}\n\n>>>בחר פעולה:"
    },
    "btn_edit_stock": {
        "ru": "🖊 Изменить остаток (фасов.)",
        "he": "🖊 שינוי מלאי (ארוז)"
    },
    "btn_edit_crude": {
        "ru": "🖊 Изменить сырьё",
        "he": "🖊 שינוי גלם"
    },
    "enter_new_stock": {
        "ru": ">>>Введите новый остаток(число) на складе для товара {}:",
        "he": ">>>הזן מלאי חדש (מספר) במחסן עבור מוצר {}:"
    },
    "enter_new_crude": {
        "ru": ">>>Введите новый остаток(сырьё) на складе для товара {}:",
        "he": ">>>הזן מלאי גלם חדש במחסן עבור מוצר {}:"
    },
    "stock_updated": {
        "ru": "Успешно изменили остаток на складе для товара - {}\n\nНовый остаток - {}",
        "he": "מלאי עודכן בהצלחה עבור מוצר - {}\n\nמלאי חדש - {}"
    },
    "crude_updated": {
        "ru": "Успешно изменили остаток на складе для товара - {}\n\nНовый остаток (сырьё) - {}",
        "he": "מלאי גלם עודכן בהצלחה עבור מוצר - {}\n\nמלאי גלם חדש - {}"
    },
    "product_deleted": {
        "ru": "Успешно удалён товар - {}.",
        "he": "מוצר נמחק בהצלחה - {}."
    },
    "edit_stock_or_delete": {
        "ru": ">>>Нажмите по товару, который хотели бы отредактировать или удалить (фасованный):",
        "he": ">>>לחץ על המוצר שברצונך לערוך או למחוק (ארוז):"
    },
    "edit_crude_stock_prompt": {
        "ru": "Редактировать сырьё и фасованный продукт (название продукта - (количество сырья) - (количество фасованного)):",
        "he": "עריכת גלם ומוצר ארוז (שם מוצר - (כמות גלם) - (כמות ארוז)):"
    },
    
    # Staff Management
    "enter_staff_username": {
        "ru": "Напишите @username того, кого хотим добавить или id аккаунта:",
        "he": "כתוב @username של מי שרוצים להוסיף או id של החשבון:"
    },
    "staff_added": {
        "ru": "✅ Успешно. Юзер <i>{} @{}</i> теперь - <b>{}</b>",
        "he": "✅ בוצע בהצלחה. המשתמש <i>{} @{}</i> עכשיו - <b>{}</b>"
    },
    "user_not_found_id": {
        "ru": "Юзер с id <i>{}</i> не найден в базе данных. Убедитесь, что он начал диалог с ботом.",
        "he": "משתמש עם מזהה <i>{}</i> לא נמצא במסד הנתונים. ודא שהוא התחיל שיחה עם הבוט."
    },
    "user_not_found_username": {
        "ru": "Юзер с юзернеймом <i>{}</i> не найден в базе данных. Убедитесь, что он начал диалог с ботом.",
        "he": "משתמש עם שם משתמש <i>{}</i> לא נמצא במסד הנתונים. ודא שהוא התחיל שיחה עם הבוט."
    },
    "staff_removed": {
        "ru": "✅ Успешно удалён - {} @{} ({})",
        "he": "✅ הוסר בהצלחה - {} @{} ({})"
    },
    "click_to_remove": {
        "ru": "<b>Кликните по соответствующей кнопке того, кого нужно удалить:</b>",
        "he": "<b>לחץ על הכפתור המתאים של מי שצריך להסיר:</b>"
    },
    
    # Role Names
    "role_operator": {
        "ru": "Оператор",
        "he": "מפעיל"
    },
    "role_courier": {
        "ru": "Курьер",
        "he": "שליח"
    },
    "role_stockman": {
        "ru": "Кладовщик",
        "he": "כלאי"
    },
    "role_admin": {
        "ru": "Администратор",
        "he": "מנהל"
    },
    
    # Templates
    "enter_template_name": {
        "ru": ">>>Напишите короткое название для шаблона, 1-2 слова:",
        "he": ">>>כתוב שם קצר לתבנית, 1-2 מילים:"
    },
    "enter_template_text": {
        "ru": ">>>Введите текст сообщения для нового шаблона:",
        "he": ">>>הזן טקסט הודעה עבור תבנית חדשה:"
    },
    "template_created": {
        "ru": "<b>Шаблон создан:</b>\n\n<b>Название шаблона:</b> <i>{}</i>\n<b>Текст шаблона:</b> <i>{}</i>",
        "he": "<b>תבנית נוצרה:</b>\n\n<b>שם תבנית:</b> <i>{}</i>\n<b>טקסט תבנית:</b> <i>{}</i>"
    },
    "template_info": {
        "ru": "<b>Шаблон:</b> <i>{}</i>\n<b>Текст:</b> <i>{}</i>\n\n>>>Выберите действие с шаблоном:",
        "he": "<b>תבנית:</b> <i>{}</i>\n<b>טקסט:</b> <i>{}</i>\n\n>>>בחר פעולה עם התבנית:"
    },
    "btn_send_to_client": {
        "ru": "📨 Отправить клиенту",
        "he": "📨 שלח ללקוח"
    },
    "btn_edit_template": {
        "ru": "🖊 Изменить шаблон",
        "he": "🖊 ערוך תבנית"
    },
    "btn_delete_template": {
        "ru": "🗑 Удалить шаблон",
        "he": "🗑 מחק תבנית"
    },
    "btn_edit_name": {
        "ru": "Редактировать название",
        "he": "ערוך שם"
    },
    "btn_edit_text": {
        "ru": "Редактировать текст",
        "he": "ערוך טקסט"
    },
    "template_sent": {
        "ru": "✅ Успешно отправили шаблон: #{} - {}",
        "he": "✅ תבנית נשלחה בהצלחה: #{} - {}"
    },
    "template_deleted": {
        "ru": "Успешно удалён шаблон - {}.",
        "he": "תבנית נמחקה בהצלחה - {}."
    },
    "template_updated": {
        "ru": "<b>Шаблон изменён:</b>\n\n<b>Название шаблона:</b> <i>{}</i>\n<b>Текст шаблона:</b> <i>{}</i>",
        "he": "<b>תבנית עודכנה:</b>\n\n<b>שם תבנית:</b> <i>{}</i>\n<b>טקסט תבנית:</b> <i>{}</i>"
    },
    "choose_template": {
        "ru": ">>>Выберите нужный шаблон сообщения:",
        "he": ">>>בחר תבנית הודעה נדרשת:"
    },
    "btn_add_template": {
        "ru": "➕ Добавить",
        "he": "➕ הוסף"
    },
    "no_worker_account": {
        "ru": "❌ Похоже не было добавлено ни одного аккаунта для отправки сообщений клиентам.",
        "he": "❌ נראה שלא נוסף חשבון לשליחת הודעות ללקוחות."
    },
    "send_message_error": {
        "ru": "❌ При отправки сообщения возникла ошибка: {}",
        "he": "❌ אירעה שגיאה בשליחת ההודעה: {}"
    },
    
    # Admin Menu
    "admin_menu": {
        "ru": "Меню Администратора:",
        "he": "תפריט ניהול:"
    },
    "btn_tg_accounts": {
        "ru": "🖄 Аккаунты для связи",
        "he": "🖄 חשבונות לתקשורת"
    },
    "btn_all_orders": {
        "ru": "🏛️ Просмотр всех заказов",
        "he": "🏛️ צפייה בכל ההזמנות"
    },
    "btn_quick_reports": {
        "ru": "📊 Быстрые отчёты",
        "he": "📊 דוחות מהירים"
    },
    "btn_week_report": {
        "ru": "📈 Запросить еженедельный отчет",
        "he": "📈 בקש דוח שבועי"
    },
    "btn_manage_users": {
        "ru": "👥 Управление пользователями и правами",
        "he": "👥 ניהול משתמשים והרשאות"
    },
    "btn_security": {
        "ru": "🛡️ Безопасность",
        "he": "🛡️ אבטחה"
    },
    
    # Reports
    "btn_report_by_product": {
        "ru": "📦 По товару",
        "he": "📦 לפי מוצר"
    },
    "btn_report_by_client": {
        "ru": "👥 По клиенту",
        "he": "👥 לפי לקוח"
    },
    "btn_report_by_price": {
        "ru": "💰 По цене",
        "he": "💰 לפי מחיר"
    },
    "btn_report_by_days": {
        "ru": "📈 По дням",
        "he": "📈 לפי ימים"
    },
    "btn_daily_profit": {
        "ru": "💵 Дневная прибыль",
        "he": "💵 רווח יומי"
    },
    "choose_report_param": {
        "ru": "Выбрать отчёт по параметру:",
        "he": "בחר דוח לפי פרמטר:"
    },
    
    # Daily Profit Report
    "btn_today": {
        "ru": "📅 Сегодня",
        "he": "📅 היום"
    },
    "btn_yesterday": {
        "ru": "📅 Вчера",
        "he": "📅 אתמול"
    },
    "choose_period": {
        "ru": "Выберите период:",
        "he": "בחר תקופה:"
    },
    "daily_report_title": {
        "ru": "💰 <b>Отчёт о прибыли за {}</b>\n",
        "he": "💰 <b>דוח רווח עבור {}</b>\n"
    },
    "today": {
        "ru": "сегодня",
        "he": "היום"
    },
    "yesterday": {
        "ru": "вчера",
        "he": "אתמול"
    },
    "date_range": {
        "ru": "{} - {}",
        "he": "{} - {}"
    },
    "total_brutto": {
        "ru": "<b>Общий доход (брутто):</b> <i>{}₪</i>",
        "he": "<b>סך הכנסות (ברוטו):</b> <i>{}₪</i>"
    },
    "total_expenses": {
        "ru": "<b>Расходы:</b> <i>{}₪</i>",
        "he": "<b>הוצאות:</b> <i>{}₪</i>"
    },
    "expenses_breakdown": {
        "ru": "  • Оператор: {}₪\n  • Курьер: {}₪\n  • Топливо: {}₪",
        "he": "  • מפעיל: {}₪\n  • שליח: {}₪\n  • דלק: {}₪"
    },
    "total_netto": {
        "ru": "<b>Чистая прибыль (нетто):</b> <i>{}₪</i>",
        "he": "<b>רווח נקי (נטו):</b> <i>{}₪</i>"
    },
    "total_orders": {
        "ru": "\n<b>Всего заказов:</b> <i>{}</i>",
        "he": "\n<b>סך הזמנות:</b> <i>{}</i>"
    },
    "products_sold": {
        "ru": "\n<b>Проданные товары:</b>",
        "he": "\n<b>מוצרים שנמכרו:</b>"
    },
    "no_data_for_period": {
        "ru": "📭 Нет данных за выбранный период",
        "he": "📭 אין נתונים לתקופה שנבחרה"
    },
    
    # Permissions
    "admin_only": {
        "ru": "למנהלים בלבד./Только для админов.",
        "he": "למנהלים בלבד./Только для админов."
    },
    "operator_only": {
        "ru": "Только для операторов.",
        "he": "למפעילים בלבד."
    },
    "stockman_only": {
        "ru": "Только для кладовщиков.",
        "he": "לכלאים בלבד."
    },
    "courier_only": {
        "ru": "Только для курьеров.",
        "he": "לשליחים בלבד."
    },
    
    # Guest Welcome
    "guest_welcome": {
        "ru": "שלום, אם אתה מצפה להזמנה, הבוט ישלח הודעות לצ'אט זה, אל תמחק את הצ'אט הזה כדי שהבוט יוכל ליצור איתך קשר. / Здравствуйте, если вы ожидаете заказ, то бот будет присылать уведомления в этот чат, не удаляйте этот чат, чтобы бот мог связаться с вами.",
        "he": "שלום, אם אתה מצפה להזמנה, הבוט ישלח הודעות לצ'אט זה, אל תמחק את הצ'אט הזה כדי שהבוט יוכל ליצור איתך קשר. / Здравствуйте, если вы ожидаете заказ, то бот будет присылать уведомления в этот чат, не удаляйте этот чат, чтобы бот мог связаться с вами."
    },
    
    # Role Assignment Messages
    "role_assigned_admin": {
        "ru": "Вам присвоена роль - <b>Администратор.</b>",
        "he": "הוקצתה לך הרשאה - <b>מנהל.</b>"
    },
    "role_assigned_operator": {
        "ru": "Вам присвоена роль - <b>Оператор.</b>",
        "he": "הוקצתה לך הרשאה - <b>מפעיל.</b>"
    },
    "role_assigned_stockman": {
        "ru": "Вам присвоена роль - <b>Кладовщик.</b>",
        "he": "הוקצתה לך הרשאה - <b>כלאי.</b>"
    },
    "role_assigned_courier": {
        "ru": "Вам присвоена роль - <b>Курьер.</b>",
        "he": "הוקצתה לך הרשאה - <b>שליח.</b>"
    },
    
    # Common Messages
    "cancelled": {
        "ru": "❌ Отменено",
        "he": "❌ בוטל"
    },
    "timeout_error": {
        "ru": "❌ Время ожидания истекло, попробуйте сначала.",
        "he": "❌ תם זמן ההמתנה, נסה שוב."
    },
    "operation_cancelled": {
        "ru": "Отмена операции",
        "he": "ביטול פעולה"
    },
    "error": {
        "ru": "[Ошибка] {}",
        "he": "[שגיאה] {}"
    },
    "success": {
        "ru": "✅ Успешно",
        "he": "✅ הצלחה"
    },
    
    # Notifications
    "notif_courier_on_way": {
        "ru": "<b>Заказ </b>#{}\n\n<b><i>Курьер в пути к адресу {} {} – прибудет через {} минут</i></b>",
        "he": "<b>הזמנה </b>#{}\n\n<b><i>השליח בדרך לכתובת {} {} – יגיע בעוד {} דקות</i></b>"
    },
    "notif_courier_delayed": {
        "ru": "<b>Курьер задерживается у {} {}</b>\n\n<b>Причина:</b> <i>{}</i>\n<b>Ожидаемая задержка:</b> <i>{} минут</i>",
        "he": "<b>השליח מתעכב אצל {} {}</b>\n\n<b>סיבה:</b> <i>{}</i>\n<b>עיכוב צפוי:</b> <i>{} דקות</i>"
    },
    "notif_client_order_active": {
        "ru": "Курьер в пути, пожалуйста, спуститесь",
        "he": "השליח בדרך, בבקשה רדו"
    },
    "btn_notify_client": {
        "ru": "🔔 Отправить уведомление клиенту",
        "he": "🔔 שלח התראה ללקוח"
    },
    "btn_call_client": {
        "ru": "📞 Позвонить клиенту",
        "he": "📞 התקשר ללקוח"
    },
    "btn_send_other_msg": {
        "ru": "📤 Отправить другое сообщение",
        "he": "📤 שלח הודעה אחרת"
    },
    "notification_sent": {
        "ru": "✅ Отправили уведомление клиенту.",
        "he": "✅ התראה נשלחה ללקוח."
    },
    "no_worker_session": {
        "ru": "❌ Нет ни одного рабочего аккаунта для отправки сообщений юзерам.",
        "he": "❌ אין חשבון עובד לשליחת הודעות למשתמשים."
    },
    "choose_client_to_msg": {
        "ru": "Выберите с кем нужно связаться:",
        "he": "בחר עם מי צריך ליצור קשר:"
    },
    "no_active_orders": {
        "ru": "Активных заказов нет.",
        "he": "אין הזמנות פעילות."
    },
    
    # Week Days (for reports)
    "monday": {
        "ru": "Понедельник",
        "he": "יום שני"
    },
    "tuesday": {
        "ru": "Вторник",
        "he": "יום שלישי"
    },
    "wednesday": {
        "ru": "Среда",
        "he": "יום רביעי"
    },
    "thursday": {
        "ru": "Четверг",
        "he": "יום חמישי"
    },
    "friday": {
        "ru": "Пятница",
        "he": "יום שישי"
    },
    "saturday": {
        "ru": "Суббота",
        "he": "שבת"
    },
    "sunday": {
        "ru": "Воскресенье",
        "he": "יום ראשון"
    },
    
    # Filter and Search
    "filter_by": {
        "ru": "Фильтровать заказы по:",
        "he": "סנן הזמנות לפי:"
    },
    "btn_filter_date": {
        "ru": "📅 По дате",
        "he": "📅 לפי תאריך"
    },
    "btn_filter_product": {
        "ru": "📦 По товару",
        "he": "📦 לפי מוצר"
    },
    "btn_filter_client": {
        "ru": "👤 По клиенту",
        "he": "👤 לפי לקוח"
    },
    "btn_filter_status": {
        "ru": "✅ По статусу",
        "he": "✅ לפי סטטוס"
    },
    "choose_format": {
        "ru": "Выберите формат:",
        "he": "בחר פורמט:"
    },
    "btn_excel": {
        "ru": "📗 Excel",
        "he": "📗 Excel"
    },
    "btn_json": {
        "ru": "📒 Json",
        "he": "📒 Json"
    },
    "btn_export_excel": {
        "ru": "Выгрузить Excel",
        "he": "ייצוא Excel"
    },
    "total_found": {
        "ru": "<b>Всего найдено заказов:</b> <i>{}</i>",
        "he": "<b>סך הכל נמצאו הזמנות:</b> <i>{}</i>"
    },
    
    # Security Menu
    "security_menu": {
        "ru": "Меню безопасности:",
        "he": "תפריט אבטחה:"
    },
    "btn_manage_links": {
        "ru": "🔗 Управление ссылками на группы",
        "he": "🔗 ניהול קישורים לקבוצות"
    },
    "btn_cleanup_old_data": {
        "ru": "🧹 Очистка старых данных",
        "he": "🧹 ניקוי נתונים ישנים"
    },
    "btn_backup_db": {
        "ru": "🧾 Резервное копирование данных",
        "he": "🧾 גיבוי נתונים"
    },
    "current_links": {
        "ru": "<b>Актуальные ссылки на группы.</b>\n\n<b>Группа админов:</b> {}\n<b>Группа курьеров:</b> {}\n\nВыберите, какую ссылку, хотели бы изменить:",
        "he": "<b>קישורים נוכחיים לקבוצות.</b>\n\n<b>קבוצת מנהלים:</b> {}\n<b>קבוצת שליחים:</b> {}\n\nבחר איזה קישור ברצונך לשנות:"
    },
    "btn_change_admin_link": {
        "ru": "Ссылку группы админов",
        "he": "קישור קבוצת מנהלים"
    },
    "btn_change_courier_link": {
        "ru": "Ссылку группы курьеров",
        "he": "קישור קבוצת שליחים"
    },
    
    # TG Sessions
    "tg_sessions_info": {
        "ru": "Чтобы добавить новый аккаунт, нажмите Добавить. Чтобы назначить аккаунт рабочим для отправки сообщений клиентам, нажмите соответствующую кнопку аккаунта:",
        "he": "כדי להוסיף חשבון חדש, לחץ הוסף. כדי להגדיר חשבון כעובד לשליחת הודעות ללקוחות, לחץ על הכפתור המתאים של החשבון:"
    },
    "btn_add_account": {
        "ru": "➕ Добавить",
        "he": "➕ הוסף"
    },
    "btn_make_worker": {
        "ru": "✅ Сделать рабочим",
        "he": "✅ הגדר כעובד"
    },
    "btn_delete_account": {
        "ru": "❌ Удалить",
        "he": "❌ מחק"
    },
    "session_now_worker": {
        "ru": "Успешно. Сессия {} @{} теперь будет использоваться для связи с клиентами.",
        "he": "בוצע בהצלחה. חשבון {} @{} ישמש עכשיו לתקשורת עם לקוחות."
    },
    "session_not_found": {
        "ru": "Такой сессии уже нет в базе данных",
        "he": "חשבון זה כבר לא קיים במסד הנתונים"
    },
    "session_deleted": {
        "ru": "Успешно. Сессия {} @{} удалена из базы.",
        "he": "בוצע בהצלחה. חשבון {} @{} נמחק מהמסד."
    },
    "btn_add_operator": {
        "ru": "➕ Добавить оператора",
        "he": "➕ הוסף מפעיל"
    },
    "btn_remove_operator": {
        "ru": "➖ Удалить оператора",
        "he": "➖ הסר מפעיל"
    },
    "btn_add_courier": {
        "ru": "➕ Добавить курьера",
        "he": "➕ הוסף שליח"
    },
    "btn_remove_courier": {
        "ru": "➖ Удалить курьера",
        "he": "➖ הסר שליח"
    },
    "btn_add_stockman": {
        "ru": "➕ Добавить кладовщика",
        "he": "➕ הוסף כלאי"
    },
    "btn_remove_stockman": {
        "ru": "➖ Удалить кладовщика",
        "he": "➖ הסר כלאי"
    },
    "manage_roles_title": {
        "ru": "Управление правами доступа:",
        "he": "ניהול הרשאות גישה:"
    },
    "btn_back_session": {
        "ru": "⬅️ Назад",
        "he": "⬅️ חזרה"
    },
    "shift_start_title": {
        "ru": "Начало рабочего дня",
        "he": "תחילת יום עבודה"
    },
    "operator": {
        "ru": "Оператор",
        "he": "מפעיל"
    },
    "initial_stock": {
        "ru": "Начальный остаток (расфасовано)",
        "he": "יתרה ראשונית (מארז)"
    },
    "daily_profit_report": {
        "ru": "💵 Дневная прибыль",
        "he": "💵 רווח יומי"
    },
    "report_by_product": {
        "ru": "📦 По товару",
        "he": "📦 לפי מוצר"
    },
    "report_by_area": {
        "ru": "🌍 По району",
        "he": "🌍 לפי אזור"
    },
    "report_by_client": {
        "ru": "👥 По клиенту",
        "he": "👥 לפי לקוח"
    },
    "report_by_price": {
        "ru": "💰 По цене",
        "he": "💰 לפי מחיר"
    },
    "report_by_days": {
        "ru": "📈 По дням",
        "he": "📈 לפי ימים"
    },
    "btn_change_language": {
        "ru": "🌐 Сменить язык",
        "he": "🌐 החלף שפה"
    },
}



def t(key: str, lang: str = 'ru') -> str:
    """
    מחזיר טקסט מתורגם לפי מפתח ושפה
    
    Args:
        key: מפתח הטקסט
        lang: שפה ('ru' או 'he'), ברירת מחדל: 'ru'
    
    Returns:
        הטקסט המתורגם, או המפתח עצמו אם לא נמצא
    """
    if key in TEXTS:
        text = TEXTS[key].get(lang, TEXTS[key].get('ru', key))
        # הוספת RTL mark לעברית לתמיכה נכונה בכיוון
        if lang == 'he' and text:
            return '\u200F' + text  # RTL Mark
        return text
    return key


def get_user_lang(user_id: int) -> str:
    """
    מחזיר את שפת המשתמש מה-DB
    
    Args:
        user_id: מזהה המשתמש
    
    Returns:
        קוד השפה ('ru' או 'he')
    """
    from db.db import Session, User
    
    session = Session()
    try:
        user = session.query(User).filter(User.user_id == user_id).first()
        if user and user.lang:
            return user.lang
        return 'ru'  # ברירת מחדל
    finally:
        session.close()

